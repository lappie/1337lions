<html>
<head>
	<title>1337 Lions TEST</title>
	
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
	
	<link rel="stylesheet" href="style/invite-overview.css">
	<link rel="stylesheet" href="style/invite-payment.css">
	
	<link rel="stylesheet" href="themes/ing-style-v2.css">
	<link rel="stylesheet" href="style/style.css">
	
</head>

<body>

	<div data-role="page" >
	
		<div data-role="panel" id="mypanel" data-theme="b">
			<p>Button a</p>
			<p>Button b</p>
		</div><!-- /panel -->
		
		<div data-role="header" data-position="fixed">
			<a href="#mypanel" class="ui-btn ui-icon-bars ui-btn-icon-left">Home</a>
			<h1>Payment invites</h1>
			<a href="#" id="search" class="ui-btn ui-icon-search ui-btn-icon-left">Search</a>
		</div>
		
		<div class="ui-content">
			<div class="ui-container">
				<!--<script>$('.ui-container').load('sent-invite.html')</script>-->

				<div id="invite-overview"></div>
			</div><!-- ui-container -->
		</div><!-- content -->
		
		<div data-role="footer" data-position="fixed">
			<a class="ui-btn" style="width: 100%" data-transition="slideup" onclick="$('.ui-container').load('sent-invite.html')">New Payment Invite</a>
		</div>
		<div data-role="popup" id="popupDialog" data-overlay-theme="b" data-theme="b" data-dismissible="false" style="max-width:400px;">
			<div data-role="header" data-theme="a">
			<h1>Delete Invite?</h1>
			</div>
			<div role="main" class="ui-content">
				<h3 class="ui-title">Delete invite?</h3>
				<a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back">Cancel</a>
				<a href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back" data-transition="flow" onclick="console.log(popupFor)">Yes</a>
			</div>
		</div>
		<script>
			/* Everything within data-role is used by jquery mobile*/
			getPaymentInvites = function () {
				return [
					{
						"firstName": "P.",
						"lastName": "Jansen",
						"date": "11-11-2014",
						"amount": "369.00",
						"status": "Invited"
					},
					{
						"firstName": "J.",
						"lastName": "Smit",
						"date": "11-11-2014",
						"amount": "1.00",
						"status": "Payed"
					},
					{
						"firstName": "H.",
						"lastName": "de Vries",
						"date": "09-11-2014",
						"amount": "1.00",
						"status": "Payed"
					},
					{
						"firstName": "J.",
						"lastName": "Smit",
						"date": "01-11-2014",
						"amount": "1.00",
						"status": "Invited"
					},
					{
						"firstName": "J.",
						"lastName": "Smit",
						"date": "03-09-2014",
						"amount": "1.00",
						"status": "Invited"
					},
					{
						"firstName": "J.",
						"lastName": "Smit",
						"date": "05-10-2014",
						"amount": "1.00",
						"status": "Invited"
					},
					{
						"firstName": "J.",
						"lastName": "Smit",
						"date": "08-11-2014",
						"amount": "1.00",
						"status": "Payed"
					}
				];
			};

			var parent = document.getElementById("invite-overview");
			piBlocks = document.createElement('div');
			parent.appendChild(piBlocks);
			var paymentInvites = getPaymentInvites();
			for (var i=0; i<paymentInvites.length; i++) {
			  	paymentInvite = paymentInvites[i];
			  	block = document.createElement('div');
			  	block.setAttribute("class","pi-block-wrapper");
			  	block.innerHTML = '<div class="pi-block pi-block-status-'+paymentInvite.status.toLowerCase()+'" onclick="window.location.href = \'#payment\'"><h3 class="pi-block-name">'+paymentInvite.firstName+' '+paymentInvite.lastName+'</h3><a  href="#popupDialog" data-rel="popup" data-position-to="window" data-transition="pop" class="pi-block-cancel" >x</a><h5 class="pi-block-date">'+paymentInvite.date+'</h5><h3 class="pi-block-amount">&euro; '+paymentInvite.amount+'</h3><h5 class="pi-block-status">'+paymentInvite.status+'</h5></div>';
			  	piBlocks.appendChild(block);
			}
			</script>
	</div> <!-- page -->
</body>

</html>